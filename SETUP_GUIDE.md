# 🚀 GameSoul 配置指南

## 📋 快速配置步骤

### 1️⃣ 获取 Google Gemini API Key

1. 访问 [Google AI Studio](https://makersuite.google.com/app/apikey)
2. 使用 Google 账号登录
3. 点击 **"Create API Key"** 按钮
4. 选择现有项目或创建新项目
5. 复制生成的 API Key

### 2️⃣ 配置项目

**方法一: 使用 .env 文件 (推荐)**

```bash
# 1. 复制示例文件
cp .env.example .env

# 2. 编辑 .env 文件
# 将 your_gemini_api_key_here 替换为实际的 API Key
```

`.env` 文件内容示例:
```env
VITE_GEMINI_API_KEY=AIzaSyA-1234567890abcdefghijklmnopqrst
```

**方法二: 使用模拟模式**

如果不想配置 API Key，什么都不用做！系统会自动使用内置的模拟回复。

### 3️⃣ 启动项目

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

## 🎮 功能测试清单

启动后，可以测试以下功能:

### ✅ 基础对话
- [ ] 点击"王者荣耀"卡片
- [ ] 输入"你好"，查看亚瑟的毒舌回复
- [ ] 观察角色虚拟形象的表情变化

### ✅ 情绪识别
- [ ] 输入"今天输了好几把" → 应该看到讽刺回复
- [ ] 输入"刚才赢了一把" → 应该看到傲娇认可
- [ ] 观察角色情绪状态变化

### ✅ 彩蛋系统
- [ ] 输入"抽" → 看到鞭痕特效 💢
- [ ] 连续输入10次"抽" → 角色爆炸 💥
- [ ] 等待3秒 → 角色复活并生气

### ✅ 评价卡片
- [ ] 完成3次以上对话
- [ ] 点击"生成评价契约"
- [ ] 查看生成的精美卡片

## 🔍 验证 API 是否生效

### 方法一: 查看浏览器控制台

1. 打开浏览器开发者工具 (F12)
2. 切换到 Console 标签
3. 发送一条消息
4. 如果看到 `Gemini API Error`，说明 API 未正确配置
5. 如果没有错误，说明 API 工作正常

### 方法二: 观察回复内容

- **使用 API**: 回复内容丰富多样，每次都不同
- **模拟模式**: 回复内容相对固定，基于关键词匹配

## 🐛 常见问题

### Q1: API Key 无效

**症状**: 控制台显示 `Gemini API error: 400` 或 `403`

**解决方案**:
1. 确认 API Key 复制完整，没有多余空格
2. 检查 Google AI Studio 中该 API Key 是否启用
3. 确认项目配额未超限

### Q2: 看不到 .env 文件

**症状**: 找不到 `.env` 文件

**解决方案**:
```bash
# macOS/Linux 显示隐藏文件
ls -la

# 或直接创建
touch .env
```

### Q3: 修改 .env 后没生效

**症状**: 修改了 API Key 但还是用模拟模式

**解决方案**:
1. 重启开发服务器 (Ctrl+C 然后 `npm run dev`)
2. 清除浏览器缓存并刷新

### Q4: API 调用太慢

**症状**: 发送消息后等待很久

**解决方案**:
1. 检查网络连接
2. 确认是否需要科学上网访问 Google API
3. 考虑使用模拟模式以获得即时响应

## 📊 API 使用限制

**Google Gemini 免费额度:**
- 每分钟请求数: 60 次
- 每天请求数: 1500 次
- 每分钟 Token 数: 32,000

**建议:**
- 开发测试时使用模拟模式
- 正式体验时配置 API Key
- 注意不要频繁刷新页面

## 🔐 安全提示

⚠️ **重要**: 
- 不要将 `.env` 文件提交到 Git
- 不要在前端代码中硬编码 API Key
- 不要分享你的 API Key 给他人
- 项目已配置 `.gitignore` 忽略 `.env` 文件

## 📞 获取帮助

如果遇到问题:
1. 查看浏览器控制台错误信息
2. 检查 [Google AI Studio 文档](https://ai.google.dev/tutorials/setup)
3. 提交 GitHub Issue

---

配置完成后，享受与亚瑟的毒舌对话吧！⚔️
